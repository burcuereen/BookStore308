{"ast":null,"code":"var _jsxFileName = \"/Users/burcueren/BSS1/src/components/section/Products.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { DataContext } from \"../Context\";\nimport \"../css/Products.css\";\nimport fire from \"../../fire\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Products extends Component {\n  constructor(props) {\n    super(props);\n\n    this.move_data = i => {\n      this.props.history.push(\"/product/:id\", {\n        detail: i\n      });\n    };\n\n    this.addtocart = i => {\n      const {\n        addCart\n      } = this.context;\n      this.props.history.push(\"/cart\", {\n        cartdetails: i\n      });\n      addCart(i._id);\n    };\n\n    this.state = {\n      completeDetail: [],\n      categoryProducts: []\n    };\n  }\n\n  componentDidMount() {// var arr = []\n    // fire.database().ref('/').child(\"Books\").on(\"child_added\", (data) => {\n    //   arr.push(data.val())\n    //   this.setState({\n    //     completeDetail: arr\n    //   })\n    // })\n  }\n\n  render() {\n    const {\n      products,\n      addCart,\n      filterState,\n      category\n    } = this.context;\n    const {\n      categoryProducts\n    } = this.state;\n    console.log(products);\n    products.map(item => {\n      return item.category === category ? categoryProducts.push(item) : null;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"product\",\n      children: products.filter(product => product.category.toLowerCase().includes(category.toLowerCase())).filter(product => product.title.toLowerCase().includes(filterState.toLowerCase())).map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.coverUrlWeb,\n          alt: \"\",\n          onClick: () => this.move_data(product)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/product/${product._id}`,\n              children: product.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), product.isDiscounted && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"discountOldPrice\",\n              children: [\"$\", product.oldPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 24\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"discountPer\",\n              children: [\" Discount: \", product.discount, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 86\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: product.author\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: product.stock ? false : true,\n            onClick: () => this.addtocart(product),\n            children: product.stock ? \"ADD TO CART\" : \"SOLD OUT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this)]\n      }, product._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nProducts.contextType = DataContext;\nexport default Products;","map":{"version":3,"sources":["/Users/burcueren/BSS1/src/components/section/Products.js"],"names":["React","Component","Link","DataContext","fire","Products","constructor","props","move_data","i","history","push","detail","addtocart","addCart","context","cartdetails","_id","state","completeDetail","categoryProducts","componentDidMount","render","products","filterState","category","console","log","map","item","filter","product","toLowerCase","includes","title","coverUrlWeb","isDiscounted","oldPrice","discount","price","author","stock","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DataContext } from \"../Context\";\r\nimport \"../css/Products.css\";\r\nimport fire from \"../../fire\";\r\n\r\nexport class Products extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      completeDetail: [],\r\n      categoryProducts: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // var arr = []\r\n    // fire.database().ref('/').child(\"Books\").on(\"child_added\", (data) => {\r\n    //   arr.push(data.val())\r\n    //   this.setState({\r\n    //     completeDetail: arr\r\n    //   })\r\n    // })\r\n  }\r\n\r\n  move_data = (i) => {\r\n    this.props.history.push(\"/product/:id\", {\r\n      detail: i,\r\n    });\r\n  };\r\n  addtocart = (i) => {\r\n    const { addCart } = this.context;\r\n    this.props.history.push(\"/cart\", {\r\n      cartdetails: i,\r\n    });\r\n    addCart(i._id);\r\n  };\r\n\r\n  static contextType = DataContext;\r\n\r\n  render() {\r\n    const { products, addCart, filterState, category } = this.context;\r\n    const { categoryProducts } = this.state;\r\n    console.log(products);\r\n\r\n    products.map((item) => {\r\n      return item.category === category ? categoryProducts.push(item) : null;\r\n    });\r\n\r\n    return (\r\n      <div id=\"product\">\r\n        {products\r\n          .filter((product) =>\r\n            product.category.toLowerCase().includes(category.toLowerCase())\r\n          )\r\n          .filter((product) =>\r\n            product.title.toLowerCase().includes(filterState.toLowerCase())\r\n          )\r\n          .map((product) => (\r\n            <div className=\"card\" key={product._id}>\r\n              {/* <Link to={`/product/${product._id}`}> */}\r\n              <img\r\n                src={product.coverUrlWeb}\r\n                alt=\"\"\r\n                onClick={() => this.move_data(product)}\r\n              />\r\n              {/* </Link> */}\r\n              <div className=\"content\">\r\n                <h3>\r\n                  <Link to={`/product/${product._id}`}>{product.title}</Link>\r\n                </h3>\r\n                {\r\n                  product.isDiscounted && (\r\n                   <p> <span className=\"discountOldPrice\">${product.oldPrice}</span> <span className=\"discountPer\"> Discount: {product.discount}%</span></p>\r\n                  )\r\n                }\r\n                <span>${product.price}</span>\r\n                <p>{product.author}</p>\r\n                <button disabled={product.stock ? false : true} onClick={() => this.addtocart(product)}>\r\n                  {product.stock ? \"ADD TO CART\" : \"SOLD OUT\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Products;\r\n"]},"metadata":{},"sourceType":"module"}